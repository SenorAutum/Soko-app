{"ast":null,"code":"import React,{useState,useEffect}from'react';import ReactDOM from'react-dom/client';import axios from'axios';import'./index.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[listings,setListings]=useState([]);const[loading,setLoading]=useState(true);// 1. Fetch data when app loads\nuseEffect(()=>{fetchListings();},[]);const fetchListings=async()=>{try{// Ask the Kitchen for data\nconst res=await axios.get('/api/listings');setListings(res.data);setLoading(false);}catch(error){console.error(\"Error fetching\",error);setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u26A1 SOKO\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Peer-to-Peer Energy\"})]}),/*#__PURE__*/_jsx(\"main\",{children:loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading energy grid...\"}):/*#__PURE__*/_jsx(\"div\",{className:\"grid\",children:listings.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"icon\",children:item.type==='SOLAR'?'‚òÄÔ∏è':'üîã'}),/*#__PURE__*/_jsx(\"h3\",{children:item.name}),/*#__PURE__*/_jsxs(\"p\",{children:[item.kwh,\" kWh available\"]}),/*#__PURE__*/_jsxs(\"button\",{children:[\"Buy for \",item.price,\" KES\"]})]},item._id))})})]});};const root=ReactDOM.createRoot(document.getElementById('root'));root.render(/*#__PURE__*/_jsx(App,{}));","map":{"version":3,"names":["React","useState","useEffect","ReactDOM","axios","jsx","_jsx","jsxs","_jsxs","App","listings","setListings","loading","setLoading","fetchListings","res","get","data","error","console","className","children","map","item","type","name","kwh","price","_id","root","createRoot","document","getElementById","render"],"sources":["/workspaces/Soko-app/client/src/index.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom/client';\nimport axios from 'axios';\nimport './index.css';\n\nconst App = () => {\n  const [listings, setListings] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  // 1. Fetch data when app loads\n  useEffect(() => {\n    fetchListings();\n  }, []);\n\n  const fetchListings = async () => {\n    try {\n      // Ask the Kitchen for data\n      const res = await axios.get('/api/listings'); \n      setListings(res.data);\n      setLoading(false);\n    } catch (error) {\n      console.error(\"Error fetching\", error);\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"app-container\">\n      <header>\n        <h1>‚ö° SOKO</h1>\n        <p>Peer-to-Peer Energy</p>\n      </header>\n\n      <main>\n        {loading ? (\n          <p>Loading energy grid...</p>\n        ) : (\n          <div className=\"grid\">\n            {listings.map((item) => (\n              <div key={item._id} className=\"card\">\n                <div className=\"icon\">{item.type === 'SOLAR' ? '‚òÄÔ∏è' : 'üîã'}</div>\n                <h3>{item.name}</h3>\n                <p>{item.kwh} kWh available</p>\n                <button>Buy for {item.price} KES</button>\n              </div>\n            ))}\n          </div>\n        )}\n      </main>\n    </div>\n  );\n};\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(<App />);"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErB,KAAM,CAAAC,GAAG,CAAGA,CAAA,GAAM,CAChB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACW,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAE5C;AACAC,SAAS,CAAC,IAAM,CACdY,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACF;AACA,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAX,KAAK,CAACY,GAAG,CAAC,eAAe,CAAC,CAC5CL,WAAW,CAACI,GAAG,CAACE,IAAI,CAAC,CACrBJ,UAAU,CAAC,KAAK,CAAC,CACnB,CAAE,MAAOK,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,gBAAgB,CAAEA,KAAK,CAAC,CACtCL,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,mBACEL,KAAA,QAAKY,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5Bb,KAAA,WAAAa,QAAA,eACEf,IAAA,OAAAe,QAAA,CAAI,aAAM,CAAI,CAAC,cACff,IAAA,MAAAe,QAAA,CAAG,qBAAmB,CAAG,CAAC,EACpB,CAAC,cAETf,IAAA,SAAAe,QAAA,CACGT,OAAO,cACNN,IAAA,MAAAe,QAAA,CAAG,wBAAsB,CAAG,CAAC,cAE7Bf,IAAA,QAAKc,SAAS,CAAC,MAAM,CAAAC,QAAA,CAClBX,QAAQ,CAACY,GAAG,CAAEC,IAAI,eACjBf,KAAA,QAAoBY,SAAS,CAAC,MAAM,CAAAC,QAAA,eAClCf,IAAA,QAAKc,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAEE,IAAI,CAACC,IAAI,GAAK,OAAO,CAAG,IAAI,CAAG,IAAI,CAAM,CAAC,cACjElB,IAAA,OAAAe,QAAA,CAAKE,IAAI,CAACE,IAAI,CAAK,CAAC,cACpBjB,KAAA,MAAAa,QAAA,EAAIE,IAAI,CAACG,GAAG,CAAC,gBAAc,EAAG,CAAC,cAC/BlB,KAAA,WAAAa,QAAA,EAAQ,UAAQ,CAACE,IAAI,CAACI,KAAK,CAAC,MAAI,EAAQ,CAAC,GAJjCJ,IAAI,CAACK,GAKV,CACN,CAAC,CACC,CACN,CACG,CAAC,EACJ,CAAC,CAEV,CAAC,CAED,KAAM,CAAAC,IAAI,CAAG1B,QAAQ,CAAC2B,UAAU,CAACC,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC,CAAC,CACjEH,IAAI,CAACI,MAAM,cAAC3B,IAAA,CAACG,GAAG,GAAE,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}